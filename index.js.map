{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImgRequest(query) {\nconst parameters = {\n    key : '52994233-7ffb60f08ba14b4da4bef7a73',\n    q : query,\n    image_type : 'photo',\n    orientation : 'horizontal',\n    safesearch : true,\n};\nconst response = await axios.get('https://pixabay.com/api/', { params : parameters});\n  return response.data;\n}","const loader = document.getElementById('loader');\n\nexport function showLoader() {\n  loader.classList.add('loader--visible');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('loader--visible');\n}\n\nexport function clearGallery() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n}\n\nexport function addGallery(images) {\n  const gallery = document.getElementById('gallery');\n  const markup = images.map(\n    ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" data-caption=\"${tags}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"info-item\"><span class=\"label\">Likes</span><span class=\"value\">${likes}</span></div>\n          <div class=\"info-item\"><span class=\"label\">Views</span><span class=\"value\">${views}</span></div>\n          <div class=\"info-item\"><span class=\"label\">Comments</span><span class=\"value\">${comments}</span></div>\n          <div class=\"info-item\"><span class=\"label\">Downloads</span><span class=\"value\">${downloads}</span></div>\n        </div>\n      </li>\n    `\n  ).join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImgRequest } from './js/pixabay-api.js';\nimport { addGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.form');\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Search input must not be empty!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const data = await getImgRequest(query);\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    } else {\n      addGallery(data.hits);\n    }\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    searchForm.reset();\n  }\n});\n"],"names":["getImgRequest","query","parameters","axios","loader","showLoader","hideLoader","clearGallery","gallery","addGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","searchInput","event","iziToast","data","error"],"mappings":"wvBAEO,eAAeA,EAAcC,EAAO,CAC3C,MAAMC,EAAa,CACf,IAAM,qCACN,EAAID,EACJ,WAAa,QACb,YAAc,aACd,WAAa,EACjB,EAEE,OADe,MAAME,EAAM,IAAI,2BAA4B,CAAE,OAASD,CAAU,CAAC,GACjE,IAClB,CCZA,MAAME,EAAS,SAAS,eAAe,QAAQ,EAExC,SAASC,GAAa,CAC3BD,EAAO,UAAU,IAAI,iBAAiB,CACxC,CAEO,SAASE,GAAa,CAC3BF,EAAO,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASG,GAAe,CAC7B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASC,EAAWC,EAAQ,CACjC,MAAMF,EAAU,SAAS,eAAe,SAAS,EAC3CG,EAASD,EAAO,IACpB,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,mBAE/DL,CAAa,mBAAmBC,CAAI;AAAA,sBACjCF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uFAGuCC,CAAK;AAAA,uFACLC,CAAK;AAAA,0FACFC,CAAQ;AAAA,2FACPC,CAAS;AAAA;AAAA;AAAA,KAIpG,EAAI,KAAK,EAAE,EACTV,EAAQ,mBAAmB,YAAaG,CAAM,CAChD,CC3BA,MAAMQ,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,2BAA2B,EAEtED,EAAW,iBAAiB,SAAU,MAAME,GAAS,CACnDA,EAAM,eAAc,EACpB,MAAMpB,EAAQmB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACnB,EAAO,CACVqB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDf,IACAF,IAEA,GAAI,CACF,MAAMkB,EAAO,MAAMvB,EAAcC,CAAK,EAElCsB,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAO,EAEDb,EAAWc,EAAK,IAAI,CAEvB,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRhB,IACAa,EAAW,MAAK,CACjB,CACH,CAAC"}